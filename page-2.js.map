{"version":3,"file":"page-2.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const container = document.querySelector('.container');\n\n  if (!container) {\n    console.error(\"Container element not found!\");\n    return;\n  }\n\n  const createMarkup = `\n    <form id=\"search-form\" class=\"form\">\n      <input type=\"text\" id=\"search-input\" placeholder=\"Search for images...\" />\n      <button type=\"submit\">Search</button>\n    </form>\n    <div id=\"gallery\"></div>\n    <div id=\"loader\" class=\"loader hidden\"></div>\n  `;\n\n  container.insertAdjacentHTML(\"beforeend\", createMarkup);\n\n\nconst form = document.getElementById(`search-form`);\nconst searchInput = document.getElementById(`search-input`);\nconst gallery = document.getElementById(`gallery`);\nconst PIXABAY_API_KEY = `47476040-47c09894141d90fd499f71b0b`;\nconst loader = document.getElementById('loader');\nconst lightbox = new SimpleLightbox('#gallery a', {\n    captionsData: `alt`,\n    captionsDelay: 250,\n});\n\nform.addEventListener(`submit`, (event) => {\n    event.preventDefault();\n    const query = searchInput.value.trim();\n\n    if(!query) {\n        iziToast.warning({\n            title: `Warning`,\n            message: 'Please enter a search query!'\n        })\nreturn;\n    }\n    gallery.innerHTML = ``;\n    showLoader(); \nfetch(`https://pixabay.com/api/?key=${PIXABAY_API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`)\n.then(response => {\n    if(!response.ok) {\n        throw new Error();\n    }\n    return response.json()\n})\n    \n.then(data => {\n    if(data.hits.length === 0) {\n        iziToast.error({\n            title: `Error`,\n            message: `Sorry, there are no images matching your search query. Please try again!`\n        });\n        gallery.innerHTML = ``;\nreturn;\n    }\n    renderGallery(data.hits);\n})\n.catch(error => {\n    iziToast.error({\n        title: `Error`,\n        message: `Something went wrong. Please try again later!`\n    });\n    console.log(error);\n    \n})\n.finally(() => {\n    hideLoader();\n})\n\n})\n\nfunction renderGallery(images) {\n    const markup = images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n     <div class=\"photo-card\">\n    <a href=\"${largeImageURL}\" target=\"blank\" rel=\"noopener noreferrer\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"></img>\n    </a>\n    <div class=\"info\">\n        <p><b>Likes:</b>${likes}</p>\n        <p><b>Views:</b>${views}</p>\n        <p><b>Comments:</b>${comments}</p>\n        <p><b>Downloads:</b>${downloads}</p>\n    </div>\n    \n    \n   </div>`\n      ).join(``);\n    gallery.innerHTML = markup;\n    lightbox.refresh();\n}\n\n\nfunction showLoader() {\n    loader.classList.remove('hidden');\n    }\n    function hideLoader() {\n        loader.classList.add('hidden');\n\n    }\n});"],"names":["container","form","searchInput","gallery","PIXABAY_API_KEY","loader","lightbox","SimpleLightbox","event","query","iziToast","showLoader","response","data","renderGallery","error","hideLoader","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"+IASA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAY,SAAS,cAAc,YAAY,EAErD,GAAI,CAACA,EAAW,CACd,QAAQ,MAAM,8BAA8B,EAC5C,MACD,CAWDA,EAAU,mBAAmB,YATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASiC,EAGxD,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAkB,qCAClBC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,cAAe,GACnB,CAAC,EAEDN,EAAK,iBAAiB,SAAWO,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQP,EAAY,MAAM,KAAI,EAEpC,GAAG,CAACO,EAAO,CACPC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACrB,CAAS,EACT,MACK,CACDP,EAAQ,UAAY,GACpBQ,IACJ,MAAM,gCAAgCP,CAAe,MAAM,mBAAmBK,CAAK,CAAC,0DAA0D,EAC7I,KAAKG,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAEd,OAAOA,EAAS,KAAM,CAC1B,CAAC,EAEA,KAAKC,GAAQ,CACV,GAAGA,EAAK,KAAK,SAAW,EAAG,CACvBH,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACrB,CAAS,EACDP,EAAQ,UAAY,GAC5B,MACK,CACDW,EAAcD,EAAK,IAAI,CAC3B,CAAC,EACA,MAAME,GAAS,CACZL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+CACjB,CAAK,EACD,QAAQ,IAAIK,CAAK,CAErB,CAAC,EACA,QAAQ,IAAM,CACXC,GACJ,CAAC,CAED,CAAC,EAED,SAASF,EAAcG,EAAQ,CAC3B,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,eAE3FL,CAAa;AAAA,oBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0BAGpBC,CAAK;AAAA,0BACLC,CAAK;AAAA,6BACFC,CAAQ;AAAA,8BACPC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKvC,EAAQ,KAAK,EAAE,EACXtB,EAAQ,UAAYe,EACpBZ,EAAS,QAAO,CACpB,CAGA,SAASK,GAAa,CAClBN,EAAO,UAAU,OAAO,QAAQ,CAC/B,CACD,SAASW,GAAa,CAClBX,EAAO,UAAU,IAAI,QAAQ,CAEhC,CACL,CAAC"}